<!DOCTYPE html>

<html>
<head>
  <title>jquery.bxslider.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>jquery.bxslider.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre><span class="comment">/**
 * BxSlider v4.1.1 - Fully loaded, responsive content slider
 * http://bxslider.com
 *
 * Copyright 2012, Steven Wanderski - http://stevenwanderski.com - http://bxcreative.com
 * Written while drinking Belgian ales and listening to jazz
 *
 * Released under the WTFPL license - http://sam.zoy.org/wtfpl/
 */</span>

;(<span class="keyword">function</span>($){

	<span class="keyword">var</span> plugin = {};
	
	<span class="keyword">var</span> defaults = {</pre></div></div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <p>GENERAL</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		mode: <span class="string">'horizontal'</span>,
		slideSelector: <span class="string">''</span>,
		infiniteLoop: <span class="literal">true</span>,
		hideControlOnEnd: <span class="literal">false</span>,
		speed: <span class="number">500</span>,
		easing: <span class="literal">null</span>,
		slideMargin: <span class="number">0</span>,
		startSlide: <span class="number">0</span>,
		randomStart: <span class="literal">false</span>,
		captions: <span class="literal">false</span>,
		ticker: <span class="literal">false</span>,
		tickerHover: <span class="literal">false</span>,
		adaptiveHeight: <span class="literal">false</span>,
		adaptiveHeightSpeed: <span class="number">500</span>,
		video: <span class="literal">false</span>,
		useCSS: <span class="literal">true</span>,
		preloadImages: <span class="string">'visible'</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <p>TOUCH</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		touchEnabled: <span class="literal">true</span>,
		swipeThreshold: <span class="number">50</span>,
		oneToOneTouch: <span class="literal">true</span>,
		preventDefaultSwipeX: <span class="literal">true</span>,
		preventDefaultSwipeY: <span class="literal">false</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p>PAGER</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		pager: <span class="literal">true</span>,
		pagerType: <span class="string">'full'</span>,
		pagerShortSeparator: <span class="string">' / '</span>,
		pagerSelector: <span class="literal">null</span>,
		buildPager: <span class="literal">null</span>,
		pagerCustom: <span class="literal">null</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p>CONTROLS</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		controls: <span class="literal">true</span>,
		nextText: <span class="string">'Next'</span>,
		prevText: <span class="string">'Prev'</span>,
		nextSelector: <span class="literal">null</span>,
		prevSelector: <span class="literal">null</span>,
		autoControls: <span class="literal">false</span>,
		startText: <span class="string">'Start'</span>,
		stopText: <span class="string">'Stop'</span>,
		autoControlsCombine: <span class="literal">false</span>,
		autoControlsSelector: <span class="literal">null</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <p>AUTO</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		auto: <span class="literal">false</span>,
		pause: <span class="number">4000</span>,
		autoStart: <span class="literal">true</span>,
		autoDirection: <span class="string">'next'</span>,
		autoHover: <span class="literal">false</span>,
		autoDelay: <span class="number">0</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <p>CAROUSEL</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		minSlides: <span class="number">1</span>,
		maxSlides: <span class="number">1</span>,
		moveSlides: <span class="number">0</span>,
		slideWidth: <span class="number">0</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-8">&#182;</a>
              </div>
              <p>CALLBACKS</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		onSliderLoad: <span class="keyword">function</span>() {},
		onSlideBefore: <span class="keyword">function</span>() {},
		onSlideAfter: <span class="keyword">function</span>() {},
		onSlideNext: <span class="keyword">function</span>() {},
		onSlidePrev: <span class="keyword">function</span>() {}
	}

	$.fn.bxSlider = <span class="keyword">function</span>(options){
		
		<span class="keyword">if</span>(<span class="keyword">this</span>.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">this</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-9">&#182;</a>
              </div>
              <p>support mutltiple elements</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="keyword">if</span>(<span class="keyword">this</span>.length &gt; <span class="number">1</span>){
			<span class="keyword">this</span>.each(<span class="keyword">function</span>(){$(<span class="keyword">this</span>).bxSlider(options)});
			<span class="keyword">return</span> <span class="keyword">this</span>;
		}</pre></div></div>
            
        </li>
        
        
        <li id="section-10">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-10">&#182;</a>
              </div>
              <p>create a namespace to be used throughout the plugin</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="keyword">var</span> slider = {};</pre></div></div>
            
        </li>
        
        
        <li id="section-11">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-11">&#182;</a>
              </div>
              <p>set a reference to our slider element</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="keyword">var</span> el = <span class="keyword">this</span>;
		plugin.el = <span class="keyword">this</span>;

		<span class="comment">/**
		 * Makes slideshow responsive
		 */</span></pre></div></div>
            
        </li>
        
        
        <li id="section-12">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-12">&#182;</a>
              </div>
              <p>first get the original window dimens (thanks alot IE)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="keyword">var</span> windowWidth = $(window).width();
		<span class="keyword">var</span> windowHeight = $(window).height();

		
		
		<span class="comment">/**
		 * ===================================================================================
		 * = PRIVATE FUNCTIONS
		 * ===================================================================================
		 */</span>
		
		<span class="comment">/**
		 * Initializes namespace settings to be used throughout plugin
		 */</span>
		<span class="keyword">var</span> init = <span class="keyword">function</span>(){</pre></div></div>
            
        </li>
        
        
        <li id="section-13">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-13">&#182;</a>
              </div>
              <p>merge user-supplied options with the defaults</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			slider.settings = $.extend({}, defaults, options);</pre></div></div>
            
        </li>
        
        
        <li id="section-14">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-14">&#182;</a>
              </div>
              <p>parse slideWidth setting</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			slider.settings.slideWidth = parseInt(slider.settings.slideWidth);</pre></div></div>
            
        </li>
        
        
        <li id="section-15">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-15">&#182;</a>
              </div>
              <p>store the original children</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			slider.children = el.children(slider.settings.slideSelector);</pre></div></div>
            
        </li>
        
        
        <li id="section-16">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-16">&#182;</a>
              </div>
              <p>check if actual number of slides is less than minSlides / maxSlides</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span>(slider.children.length &lt; slider.settings.minSlides) slider.settings.minSlides = slider.children.length;
			<span class="keyword">if</span>(slider.children.length &lt; slider.settings.maxSlides) slider.settings.maxSlides = slider.children.length;</pre></div></div>
            
        </li>
        
        
        <li id="section-17">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-17">&#182;</a>
              </div>
              <p>if random start, set the startSlide setting to random number</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span>(slider.settings.randomStart) slider.settings.startSlide = Math.floor(Math.random() * slider.children.length);</pre></div></div>
            
        </li>
        
        
        <li id="section-18">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-18">&#182;</a>
              </div>
              <p>store active slide information</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			slider.active = { index: slider.settings.startSlide }</pre></div></div>
            
        </li>
        
        
        <li id="section-19">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-19">&#182;</a>
              </div>
              <p>store if the slider is in carousel mode (displaying / moving multiple slides)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			slider.carousel = slider.settings.minSlides &gt; <span class="number">1</span> || slider.settings.maxSlides &gt; <span class="number">1</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-20">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-20">&#182;</a>
              </div>
              <p>if carousel, force preloadImages = &#39;all&#39;</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span>(slider.carousel) slider.settings.preloadImages = <span class="string">'all'</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-21">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-21">&#182;</a>
              </div>
              <p>calculate the min / max width thresholds based on min / max number of slides
used to setup and update carousel slides dimensions</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			slider.minThreshold = (slider.settings.minSlides * slider.settings.slideWidth) + ((slider.settings.minSlides - <span class="number">1</span>) * slider.settings.slideMargin);
			slider.maxThreshold = (slider.settings.maxSlides * slider.settings.slideWidth) + ((slider.settings.maxSlides - <span class="number">1</span>) * slider.settings.slideMargin);</pre></div></div>
            
        </li>
        
        
        <li id="section-22">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-22">&#182;</a>
              </div>
              <p>store the current state of the slider (if currently animating, working is true)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			slider.working = <span class="literal">false</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-23">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-23">&#182;</a>
              </div>
              <p>initialize the controls object</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			slider.controls = {};</pre></div></div>
            
        </li>
        
        
        <li id="section-24">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-24">&#182;</a>
              </div>
              <p>initialize an auto interval</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			slider.interval = <span class="literal">null</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-25">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-25">&#182;</a>
              </div>
              <p>determine which property to use for transitions</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			slider.animProp = slider.settings.mode == <span class="string">'vertical'</span> ? <span class="string">'top'</span> : <span class="string">'left'</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-26">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-26">&#182;</a>
              </div>
              <p>determine if hardware acceleration can be used</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			slider.usingCSS = slider.settings.useCSS &amp;&amp; slider.settings.mode != <span class="string">'fade'</span> &amp;&amp; (<span class="keyword">function</span>(){</pre></div></div>
            
        </li>
        
        
        <li id="section-27">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-27">&#182;</a>
              </div>
              <p>create our test div element</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				<span class="keyword">var</span> div = document.createElement(<span class="string">'div'</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-28">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-28">&#182;</a>
              </div>
              <p>css transition properties</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				<span class="keyword">var</span> props = [<span class="string">'WebkitPerspective'</span>, <span class="string">'MozPerspective'</span>, <span class="string">'OPerspective'</span>, <span class="string">'msPerspective'</span>];</pre></div></div>
            
        </li>
        
        
        <li id="section-29">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-29">&#182;</a>
              </div>
              <p>test for each property</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				<span class="keyword">for</span>(<span class="keyword">var</span> i <span class="keyword">in</span> props){
					<span class="keyword">if</span>(div.style[props[i]] !== <span class="literal">undefined</span>){
						slider.cssPrefix = props[i].replace(<span class="string">'Perspective'</span>, <span class="string">''</span>).toLowerCase();
						slider.animProp = <span class="string">'-'</span> + slider.cssPrefix + <span class="string">'-transform'</span>;
						<span class="keyword">return</span> <span class="literal">true</span>;
					}
				}
				<span class="keyword">return</span> <span class="literal">false</span>;
			}());</pre></div></div>
            
        </li>
        
        
        <li id="section-30">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-30">&#182;</a>
              </div>
              <p>if vertical mode always make maxSlides and minSlides equal</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span>(slider.settings.mode == <span class="string">'vertical'</span>) slider.settings.maxSlides = slider.settings.minSlides;</pre></div></div>
            
        </li>
        
        
        <li id="section-31">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-31">&#182;</a>
              </div>
              <p>perform all DOM / CSS modifications</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			setup();
		}

		<span class="comment">/**
		 * Performs all DOM and CSS modifications
		 */</span>
		<span class="keyword">var</span> setup = <span class="keyword">function</span>(){</pre></div></div>
            
        </li>
        
        
        <li id="section-32">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-32">&#182;</a>
              </div>
              <p>wrap el in a wrapper</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			el.wrap(<span class="string">'&lt;div class="bx-wrapper"&gt;&lt;div class="bx-viewport"&gt;&lt;/div&gt;&lt;/div&gt;'</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-33">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-33">&#182;</a>
              </div>
              <p>store a namspace reference to .bx-viewport</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			slider.viewport = el.parent();</pre></div></div>
            
        </li>
        
        
        <li id="section-34">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-34">&#182;</a>
              </div>
              <p>add a loading div to display while images are loading</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			slider.loader = $(<span class="string">'&lt;div class="bx-loading" /&gt;'</span>);
			slider.viewport.prepend(slider.loader);</pre></div></div>
            
        </li>
        
        
        <li id="section-35">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-35">&#182;</a>
              </div>
              <p>set el to a massive width, to hold any needed slides
also strip any margin and padding from el</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			el.css({
				width: slider.settings.mode == <span class="string">'horizontal'</span> ? slider.children.length * <span class="number">215</span> + <span class="string">'%'</span> : <span class="string">'auto'</span>,
				position: <span class="string">'relative'</span>
			});</pre></div></div>
            
        </li>
        
        
        <li id="section-36">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-36">&#182;</a>
              </div>
              <p>if using CSS, add the easing property</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span>(slider.usingCSS &amp;&amp; slider.settings.easing){
				el.css(<span class="string">'-'</span> + slider.cssPrefix + <span class="string">'-transition-timing-function'</span>, slider.settings.easing);</pre></div></div>
            
        </li>
        
        
        <li id="section-37">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-37">&#182;</a>
              </div>
              <p>if not using CSS and no easing value was supplied, use the default JS animation easing (swing)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			}<span class="keyword">else</span> <span class="keyword">if</span>(!slider.settings.easing){
				slider.settings.easing = <span class="string">'swing'</span>;
			}
			<span class="keyword">var</span> slidesShowing = getNumberSlidesShowing();</pre></div></div>
            
        </li>
        
        
        <li id="section-38">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-38">&#182;</a>
              </div>
              <p>make modifications to the viewport (.bx-viewport)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			slider.viewport.css({
				width: <span class="string">'100%'</span>,
				overflow: <span class="string">'hidden'</span>,
				position: <span class="string">'relative'</span>
			});
			slider.viewport.parent().css({
				maxWidth: getViewportMaxWidth()
			});</pre></div></div>
            
        </li>
        
        
        <li id="section-39">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-39">&#182;</a>
              </div>
              <p>apply css to all slider children</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			slider.children.css({
				<span class="string">'float'</span>: slider.settings.mode == <span class="string">'horizontal'</span> ? <span class="string">'left'</span> : <span class="string">'none'</span>,
				listStyle: <span class="string">'none'</span>,
				position: <span class="string">'relative'</span>
			});</pre></div></div>
            
        </li>
        
        
        <li id="section-40">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-40">&#182;</a>
              </div>
              <p>apply the calculated width after the float is applied to prevent scrollbar interference</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			slider.children.width(getSlideWidth());</pre></div></div>
            
        </li>
        
        
        <li id="section-41">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-41">&#182;</a>
              </div>
              <p>if slideMargin is supplied, add the css</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span>(slider.settings.mode == <span class="string">'horizontal'</span> &amp;&amp; slider.settings.slideMargin &gt; <span class="number">0</span>) slider.children.css(<span class="string">'marginRight'</span>, slider.settings.slideMargin);
			<span class="keyword">if</span>(slider.settings.mode == <span class="string">'vertical'</span> &amp;&amp; slider.settings.slideMargin &gt; <span class="number">0</span>) slider.children.css(<span class="string">'marginBottom'</span>, slider.settings.slideMargin);</pre></div></div>
            
        </li>
        
        
        <li id="section-42">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-42">&#182;</a>
              </div>
              <p>if &quot;fade&quot; mode, add positioning and z-index CSS</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span>(slider.settings.mode == <span class="string">'fade'</span>){
				slider.children.css({
					position: <span class="string">'absolute'</span>,
					zIndex: <span class="number">0</span>,
					display: <span class="string">'none'</span>
				});</pre></div></div>
            
        </li>
        
        
        <li id="section-43">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-43">&#182;</a>
              </div>
              <p>prepare the z-index on the showing element</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				slider.children.eq(slider.settings.startSlide).css({zIndex: <span class="number">50</span>, display: <span class="string">'block'</span>});
			}</pre></div></div>
            
        </li>
        
        
        <li id="section-44">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-44">&#182;</a>
              </div>
              <p>create an element to contain all slider controls (pager, start / stop, etc)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			slider.controls.el = $(<span class="string">'&lt;div class="bx-controls" /&gt;'</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-45">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-45">&#182;</a>
              </div>
              <p>if captions are requested, add them</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span>(slider.settings.captions) appendCaptions();</pre></div></div>
            
        </li>
        
        
        <li id="section-46">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-46">&#182;</a>
              </div>
              <p>check if startSlide is last slide</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			slider.active.last = slider.settings.startSlide == getPagerQty() - <span class="number">1</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-47">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-47">&#182;</a>
              </div>
              <p>if video is true, set up the fitVids plugin</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span>(slider.settings.video) el.fitVids();</pre></div></div>
            
        </li>
        
        
        <li id="section-48">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-48">&#182;</a>
              </div>
              <p>set the default preload selector (visible)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">var</span> preloadSelector = slider.children.eq(slider.settings.startSlide);
			<span class="keyword">if</span> (slider.settings.preloadImages == <span class="string">"all"</span>) preloadSelector = slider.children;</pre></div></div>
            
        </li>
        
        
        <li id="section-49">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-49">&#182;</a>
              </div>
              <p>only check for control addition if not in &quot;ticker&quot; mode</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span>(!slider.settings.ticker){</pre></div></div>
            
        </li>
        
        
        <li id="section-50">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-50">&#182;</a>
              </div>
              <p>if pager is requested, add it</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				<span class="keyword">if</span>(slider.settings.pager) appendPager();</pre></div></div>
            
        </li>
        
        
        <li id="section-51">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-51">&#182;</a>
              </div>
              <p>if controls are requested, add them</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				<span class="keyword">if</span>(slider.settings.controls) appendControls();</pre></div></div>
            
        </li>
        
        
        <li id="section-52">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-52">&#182;</a>
              </div>
              <p>if auto is true, and auto controls are requested, add them</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				<span class="keyword">if</span>(slider.settings.auto &amp;&amp; slider.settings.autoControls) appendControlsAuto();</pre></div></div>
            
        </li>
        
        
        <li id="section-53">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-53">&#182;</a>
              </div>
              <p>if any control option is requested, add the controls wrapper</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				<span class="keyword">if</span>(slider.settings.controls || slider.settings.autoControls || slider.settings.pager) slider.viewport.after(slider.controls.el);</pre></div></div>
            
        </li>
        
        
        <li id="section-54">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-54">&#182;</a>
              </div>
              <p>if ticker mode, do not allow a pager</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			}<span class="keyword">else</span>{
				slider.settings.pager = <span class="literal">false</span>;
			}</pre></div></div>
            
        </li>
        
        
        <li id="section-55">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-55">&#182;</a>
              </div>
              <p>preload all images, then perform final DOM / CSS modifications that depend on images being loaded</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			loadElements(preloadSelector, start);
		}

		<span class="keyword">var</span> loadElements = <span class="keyword">function</span>(selector, callback){
			<span class="keyword">var</span> total = selector.find(<span class="string">'img, iframe'</span>).length;
			<span class="keyword">var</span> count = <span class="number">0</span>;
			selector.find(<span class="string">'img, iframe'</span>).each(<span class="keyword">function</span>(){
				<span class="keyword">if</span>($(<span class="keyword">this</span>).is(<span class="string">'img'</span>)) $(<span class="keyword">this</span>).attr(<span class="string">'src'</span>, $(<span class="keyword">this</span>).attr(<span class="string">'src'</span>) + <span class="string">'?timestamp='</span> + <span class="keyword">new</span> Date().getTime());
				$(<span class="keyword">this</span>).load(<span class="keyword">function</span>(){
					<span class="keyword">if</span>(++count == total) callback();
				});
			});
		}

		<span class="comment">/**
		 * Start the slider
		 */</span>
		<span class="keyword">var</span> start = <span class="keyword">function</span>(){</pre></div></div>
            
        </li>
        
        
        <li id="section-56">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-56">&#182;</a>
              </div>
              <p>if infinite loop, prepare additional slides</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span>(slider.settings.infiniteLoop &amp;&amp; slider.settings.mode != <span class="string">'fade'</span> &amp;&amp; !slider.settings.ticker){
				<span class="keyword">var</span> slice = slider.settings.mode == <span class="string">'vertical'</span> ? slider.settings.minSlides : slider.settings.maxSlides;
				<span class="keyword">var</span> sliceAppend = slider.children.slice(<span class="number">0</span>, slice).clone().addClass(<span class="string">'bx-clone'</span>);
				<span class="keyword">var</span> slicePrepend = slider.children.slice(-slice).clone().addClass(<span class="string">'bx-clone'</span>);
				el.append(sliceAppend).prepend(slicePrepend);
			}</pre></div></div>
            
        </li>
        
        
        <li id="section-57">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-57">&#182;</a>
              </div>
              <p>remove the loading DOM element</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			slider.loader.remove();</pre></div></div>
            
        </li>
        
        
        <li id="section-58">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-58">&#182;</a>
              </div>
              <p>set the left / top position of &quot;el&quot;</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			setSlidePosition();</pre></div></div>
            
        </li>
        
        
        <li id="section-59">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-59">&#182;</a>
              </div>
              <p>if &quot;vertical&quot; mode, always use adaptiveHeight to prevent odd behavior</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span> (slider.settings.mode == <span class="string">'vertical'</span>) slider.settings.adaptiveHeight = <span class="literal">true</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-60">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-60">&#182;</a>
              </div>
              <p>set the viewport height</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			slider.viewport.height(getViewportHeight());</pre></div></div>
            
        </li>
        
        
        <li id="section-61">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-61">&#182;</a>
              </div>
              <p>make sure everything is positioned just right (same as a window resize)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			el.redrawSlider();</pre></div></div>
            
        </li>
        
        
        <li id="section-62">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-62">&#182;</a>
              </div>
              <p>onSliderLoad callback</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			slider.settings.onSliderLoad(slider.active.index);</pre></div></div>
            
        </li>
        
        
        <li id="section-63">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-63">&#182;</a>
              </div>
              <p>slider has been fully initialized</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			slider.initialized = <span class="literal">true</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-64">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-64">&#182;</a>
              </div>
              <p>bind the resize call to the window</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			$(window).bind(<span class="string">'resize'</span>, resizeWindow);</pre></div></div>
            
        </li>
        
        
        <li id="section-65">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-65">&#182;</a>
              </div>
              <p>if auto is true, start the show</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span> (slider.settings.auto &amp;&amp; slider.settings.autoStart) initAuto();</pre></div></div>
            
        </li>
        
        
        <li id="section-66">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-66">&#182;</a>
              </div>
              <p>if ticker is true, start the ticker</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span> (slider.settings.ticker) initTicker();</pre></div></div>
            
        </li>
        
        
        <li id="section-67">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-67">&#182;</a>
              </div>
              <p>if pager is requested, make the appropriate pager link active</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span> (slider.settings.pager) updatePagerActive(slider.settings.startSlide);</pre></div></div>
            
        </li>
        
        
        <li id="section-68">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-68">&#182;</a>
              </div>
              <p>check for any updates to the controls (like hideControlOnEnd updates)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span> (slider.settings.controls) updateDirectionControls();</pre></div></div>
            
        </li>
        
        
        <li id="section-69">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-69">&#182;</a>
              </div>
              <p>if touchEnabled is true, setup the touch events</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span> (slider.settings.touchEnabled &amp;&amp; !slider.settings.ticker) initTouch();
		}
		
		<span class="comment">/**
		 * Returns the calculated height of the viewport, used to determine either adaptiveHeight or the maxHeight value
		 */</span>
		<span class="keyword">var</span> getViewportHeight = <span class="keyword">function</span>(){
			<span class="keyword">var</span> height = <span class="number">0</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-70">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-70">&#182;</a>
              </div>
              <p>first determine which children (slides) should be used in our height calculation</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">var</span> children = $();</pre></div></div>
            
        </li>
        
        
        <li id="section-71">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-71">&#182;</a>
              </div>
              <p>if mode is not &quot;vertical&quot; and adaptiveHeight is false, include all children</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span>(slider.settings.mode != <span class="string">'vertical'</span> &amp;&amp; !slider.settings.adaptiveHeight){
				children = slider.children;
			}<span class="keyword">else</span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-72">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-72">&#182;</a>
              </div>
              <p>if not carousel, return the single active child</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				<span class="keyword">if</span>(!slider.carousel){
					children = slider.children.eq(slider.active.index);</pre></div></div>
            
        </li>
        
        
        <li id="section-73">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-73">&#182;</a>
              </div>
              <p>if carousel, return a slice of children</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				}<span class="keyword">else</span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-74">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-74">&#182;</a>
              </div>
              <p>get the individual slide index</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					<span class="keyword">var</span> currentIndex = slider.settings.moveSlides == <span class="number">1</span> ? slider.active.index : slider.active.index * getMoveBy();</pre></div></div>
            
        </li>
        
        
        <li id="section-75">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-75">&#182;</a>
              </div>
              <p>add the current slide to the children</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					children = slider.children.eq(currentIndex);</pre></div></div>
            
        </li>
        
        
        <li id="section-76">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-76">&#182;</a>
              </div>
              <p>cycle through the remaining &quot;showing&quot; slides</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					<span class="keyword">for</span> (i = <span class="number">1</span>; i &lt;= slider.settings.maxSlides - <span class="number">1</span>; i++){</pre></div></div>
            
        </li>
        
        
        <li id="section-77">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-77">&#182;</a>
              </div>
              <p>if looped back to the start</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>						<span class="keyword">if</span>(currentIndex + i &gt;= slider.children.length){
							children = children.add(slider.children.eq(i - <span class="number">1</span>));
						}<span class="keyword">else</span>{
							children = children.add(slider.children.eq(currentIndex + i));
						}
					}
				}
			}</pre></div></div>
            
        </li>
        
        
        <li id="section-78">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-78">&#182;</a>
              </div>
              <p>if &quot;vertical&quot; mode, calculate the sum of the heights of the children</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span>(slider.settings.mode == <span class="string">'vertical'</span>){
				children.each(<span class="keyword">function</span>(index) {
				  height += $(<span class="keyword">this</span>).outerHeight();
				});</pre></div></div>
            
        </li>
        
        
        <li id="section-79">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-79">&#182;</a>
              </div>
              <p>add user-supplied margins</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				<span class="keyword">if</span>(slider.settings.slideMargin &gt; <span class="number">0</span>){
					height += slider.settings.slideMargin * (slider.settings.minSlides - <span class="number">1</span>);
				}</pre></div></div>
            
        </li>
        
        
        <li id="section-80">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-80">&#182;</a>
              </div>
              <p>if not &quot;vertical&quot; mode, calculate the max height of the children</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			}<span class="keyword">else</span>{
				height = Math.max.apply(Math, children.map(<span class="keyword">function</span>(){
					<span class="keyword">return</span> $(<span class="keyword">this</span>).outerHeight(<span class="literal">false</span>);
				}).get());
			}
			<span class="keyword">return</span> height;
		}

		<span class="comment">/**
		 * Returns the calculated width to be used for the outer wrapper / viewport
		 */</span>
		<span class="keyword">var</span> getViewportMaxWidth = <span class="keyword">function</span>(){
			<span class="keyword">var</span> width = <span class="string">'100%'</span>;
			<span class="keyword">if</span>(slider.settings.slideWidth &gt; <span class="number">0</span>){
				<span class="keyword">if</span>(slider.settings.mode == <span class="string">'horizontal'</span>){
					width = (slider.settings.maxSlides * slider.settings.slideWidth) + ((slider.settings.maxSlides - <span class="number">1</span>) * slider.settings.slideMargin);
				}<span class="keyword">else</span>{
					width = slider.settings.slideWidth;
				}
			}
			<span class="keyword">return</span> width;
		}
		
		<span class="comment">/**
		 * Returns the calculated width to be applied to each slide
		 */</span>
		<span class="keyword">var</span> getSlideWidth = <span class="keyword">function</span>(){</pre></div></div>
            
        </li>
        
        
        <li id="section-81">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-81">&#182;</a>
              </div>
              <p>start with any user-supplied slide width</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">var</span> newElWidth = slider.settings.slideWidth;</pre></div></div>
            
        </li>
        
        
        <li id="section-82">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-82">&#182;</a>
              </div>
              <p>get the current viewport width</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">var</span> wrapWidth = slider.viewport.width();</pre></div></div>
            
        </li>
        
        
        <li id="section-83">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-83">&#182;</a>
              </div>
              <p>if slide width was not supplied, or is larger than the viewport use the viewport width</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span>(slider.settings.slideWidth == <span class="number">0</span> ||
				(slider.settings.slideWidth &gt; wrapWidth &amp;&amp; !slider.carousel) ||
				slider.settings.mode == <span class="string">'vertical'</span>){
				newElWidth = wrapWidth;</pre></div></div>
            
        </li>
        
        
        <li id="section-84">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-84">&#182;</a>
              </div>
              <p>if carousel, use the thresholds to determine the width</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			}<span class="keyword">else</span> <span class="keyword">if</span>(slider.settings.maxSlides &gt; <span class="number">1</span> &amp;&amp; slider.settings.mode == <span class="string">'horizontal'</span>){
				<span class="keyword">if</span>(wrapWidth &gt; slider.maxThreshold){</pre></div></div>
            
        </li>
        
        
        <li id="section-85">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-85">&#182;</a>
              </div>
              <p>newElWidth = (wrapWidth - (slider.settings.slideMargin * (slider.settings.maxSlides - 1))) / slider.settings.maxSlides;</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				}<span class="keyword">else</span> <span class="keyword">if</span>(wrapWidth &lt; slider.minThreshold){
					newElWidth = (wrapWidth - (slider.settings.slideMargin * (slider.settings.minSlides - <span class="number">1</span>))) / slider.settings.minSlides;
				}
			}
			<span class="keyword">return</span> newElWidth;
		}
		
		<span class="comment">/**
		 * Returns the number of slides currently visible in the viewport (includes partially visible slides)
		 */</span>
		<span class="keyword">var</span> getNumberSlidesShowing = <span class="keyword">function</span>(){
			<span class="keyword">var</span> slidesShowing = <span class="number">1</span>;
			<span class="keyword">if</span>(slider.settings.mode == <span class="string">'horizontal'</span> &amp;&amp; slider.settings.slideWidth &gt; <span class="number">0</span>){</pre></div></div>
            
        </li>
        
        
        <li id="section-86">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-86">&#182;</a>
              </div>
              <p>if viewport is smaller than minThreshold, return minSlides</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				<span class="keyword">if</span>(slider.viewport.width() &lt; slider.minThreshold){
					slidesShowing = slider.settings.minSlides;</pre></div></div>
            
        </li>
        
        
        <li id="section-87">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-87">&#182;</a>
              </div>
              <p>if viewport is larger than minThreshold, return maxSlides</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				}<span class="keyword">else</span> <span class="keyword">if</span>(slider.viewport.width() &gt; slider.maxThreshold){
					slidesShowing = slider.settings.maxSlides;</pre></div></div>
            
        </li>
        
        
        <li id="section-88">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-88">&#182;</a>
              </div>
              <p>if viewport is between min / max thresholds, divide viewport width by first child width</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				}<span class="keyword">else</span>{
					<span class="keyword">var</span> childWidth = slider.children.first().width();
					slidesShowing = Math.floor(slider.viewport.width() / childWidth);
				}</pre></div></div>
            
        </li>
        
        
        <li id="section-89">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-89">&#182;</a>
              </div>
              <p>if &quot;vertical&quot; mode, slides showing will always be minSlides</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			}<span class="keyword">else</span> <span class="keyword">if</span>(slider.settings.mode == <span class="string">'vertical'</span>){
				slidesShowing = slider.settings.minSlides;
			}
			<span class="keyword">return</span> slidesShowing;
		}
		
		<span class="comment">/**
		 * Returns the number of pages (one full viewport of slides is one "page")
		 */</span>
		<span class="keyword">var</span> getPagerQty = <span class="keyword">function</span>(){
			<span class="keyword">var</span> pagerQty = <span class="number">0</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-90">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-90">&#182;</a>
              </div>
              <p>if moveSlides is specified by the user</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span>(slider.settings.moveSlides &gt; <span class="number">0</span>){
				<span class="keyword">if</span>(slider.settings.infiniteLoop){
					pagerQty = slider.children.length / getMoveBy();
				}<span class="keyword">else</span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-91">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-91">&#182;</a>
              </div>
              <p>use a while loop to determine pages</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					<span class="keyword">var</span> breakPoint = <span class="number">0</span>;
					<span class="keyword">var</span> counter = <span class="number">0</span></pre></div></div>
            
        </li>
        
        
        <li id="section-92">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-92">&#182;</a>
              </div>
              <p>when breakpoint goes above children length, counter is the number of pages</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					<span class="keyword">while</span> (breakPoint &lt; slider.children.length){
						++pagerQty;
						breakPoint = counter + getNumberSlidesShowing();
						counter += slider.settings.moveSlides &lt;= getNumberSlidesShowing() ? slider.settings.moveSlides : getNumberSlidesShowing();
					}
				}</pre></div></div>
            
        </li>
        
        
        <li id="section-93">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-93">&#182;</a>
              </div>
              <p>if moveSlides is 0 (auto) divide children length by sides showing, then round up</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			}<span class="keyword">else</span>{
				pagerQty = Math.ceil(slider.children.length / getNumberSlidesShowing());
			}
			<span class="keyword">return</span> pagerQty;
		}
		
		<span class="comment">/**
		 * Returns the number of indivual slides by which to shift the slider
		 */</span>
		<span class="keyword">var</span> getMoveBy = <span class="keyword">function</span>(){</pre></div></div>
            
        </li>
        
        
        <li id="section-94">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-94">&#182;</a>
              </div>
              <p>if moveSlides was set by the user and moveSlides is less than number of slides showing</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span>(slider.settings.moveSlides &gt; <span class="number">0</span> &amp;&amp; slider.settings.moveSlides &lt;= getNumberSlidesShowing()){
				<span class="keyword">return</span> slider.settings.moveSlides;
			}</pre></div></div>
            
        </li>
        
        
        <li id="section-95">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-95">&#182;</a>
              </div>
              <p>if moveSlides is 0 (auto)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">return</span> getNumberSlidesShowing();
		}
		
		<span class="comment">/**
		 * Sets the slider's (el) left or top position
		 */</span>
		<span class="keyword">var</span> setSlidePosition = <span class="keyword">function</span>(){</pre></div></div>
            
        </li>
        
        
        <li id="section-96">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-96">&#182;</a>
              </div>
              <p>if last slide, not infinite loop, and number of children is larger than specified maxSlides</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span>(slider.children.length &gt; slider.settings.maxSlides &amp;&amp; slider.active.last &amp;&amp; !slider.settings.infiniteLoop){
				<span class="keyword">if</span> (slider.settings.mode == <span class="string">'horizontal'</span>){</pre></div></div>
            
        </li>
        
        
        <li id="section-97">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-97">&#182;</a>
              </div>
              <p>get the last child&#39;s position</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					<span class="keyword">var</span> lastChild = slider.children.last();
					<span class="keyword">var</span> position = lastChild.position();</pre></div></div>
            
        </li>
        
        
        <li id="section-98">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-98">&#182;</a>
              </div>
              <p>set the left position</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					setPositionProperty(-(position.left - (slider.viewport.width() - lastChild.width())), <span class="string">'reset'</span>, <span class="number">0</span>);
				}<span class="keyword">else</span> <span class="keyword">if</span>(slider.settings.mode == <span class="string">'vertical'</span>){</pre></div></div>
            
        </li>
        
        
        <li id="section-99">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-99">&#182;</a>
              </div>
              <p>get the last showing index&#39;s position</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					<span class="keyword">var</span> lastShowingIndex = slider.children.length - slider.settings.minSlides;
					<span class="keyword">var</span> position = slider.children.eq(lastShowingIndex).position();</pre></div></div>
            
        </li>
        
        
        <li id="section-100">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-100">&#182;</a>
              </div>
              <p>set the top position</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					setPositionProperty(-position.top, <span class="string">'reset'</span>, <span class="number">0</span>);
				}</pre></div></div>
            
        </li>
        
        
        <li id="section-101">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-101">&#182;</a>
              </div>
              <p>if not last slide</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			}<span class="keyword">else</span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-102">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-102">&#182;</a>
              </div>
              <p>get the position of the first showing slide</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				<span class="keyword">var</span> position = slider.children.eq(slider.active.index * getMoveBy()).position();</pre></div></div>
            
        </li>
        
        
        <li id="section-103">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-103">&#182;</a>
              </div>
              <p>check for last slide</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				<span class="keyword">if</span> (slider.active.index == getPagerQty() - <span class="number">1</span>) slider.active.last = <span class="literal">true</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-104">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-104">&#182;</a>
              </div>
              <p>set the repective position</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				<span class="keyword">if</span> (position != <span class="literal">undefined</span>){
					<span class="keyword">if</span> (slider.settings.mode == <span class="string">'horizontal'</span>) setPositionProperty(-position.left, <span class="string">'reset'</span>, <span class="number">0</span>);
					<span class="keyword">else</span> <span class="keyword">if</span> (slider.settings.mode == <span class="string">'vertical'</span>) setPositionProperty(-position.top, <span class="string">'reset'</span>, <span class="number">0</span>);
				}
			}
		}
		
		<span class="comment">/**
		 * Sets the el's animating property position (which in turn will sometimes animate el).
		 * If using CSS, sets the transform property. If not using CSS, sets the top / left property.
		 *
		 * @param value (int) 
		 *  - the animating property's value
		 *
		 * @param type (string) 'slider', 'reset', 'ticker'
		 *  - the type of instance for which the function is being
		 *
		 * @param duration (int) 
		 *  - the amount of time (in ms) the transition should occupy
		 *
		 * @param params (array) optional
		 *  - an optional parameter containing any variables that need to be passed in
		 */</span>
		<span class="keyword">var</span> setPositionProperty = <span class="keyword">function</span>(value, type, duration, params){</pre></div></div>
            
        </li>
        
        
        <li id="section-105">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-105">&#182;</a>
              </div>
              <p>use CSS transform</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span>(slider.usingCSS){</pre></div></div>
            
        </li>
        
        
        <li id="section-106">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-106">&#182;</a>
              </div>
              <p>determine the translate3d value</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				<span class="keyword">var</span> propValue = slider.settings.mode == <span class="string">'vertical'</span> ? <span class="string">'translate3d(0, '</span> + value + <span class="string">'px, 0)'</span> : <span class="string">'translate3d('</span> + value + <span class="string">'px, 0, 0)'</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-107">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-107">&#182;</a>
              </div>
              <p>add the CSS transition-duration</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				el.css(<span class="string">'-'</span> + slider.cssPrefix + <span class="string">'-transition-duration'</span>, duration / <span class="number">1000</span> + <span class="string">'s'</span>);
				<span class="keyword">if</span>(type == <span class="string">'slide'</span>){</pre></div></div>
            
        </li>
        
        
        <li id="section-108">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-108">&#182;</a>
              </div>
              <p>set the property value</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					el.css(slider.animProp, propValue);</pre></div></div>
            
        </li>
        
        
        <li id="section-109">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-109">&#182;</a>
              </div>
              <p>bind a callback method - executes when CSS transition completes</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					el.bind(<span class="string">'transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd'</span>, <span class="keyword">function</span>(){</pre></div></div>
            
        </li>
        
        
        <li id="section-110">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-110">&#182;</a>
              </div>
              <p>unbind the callback</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>						el.unbind(<span class="string">'transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd'</span>);
						updateAfterSlideTransition();
					});
				}<span class="keyword">else</span> <span class="keyword">if</span>(type == <span class="string">'reset'</span>){
					el.css(slider.animProp, propValue);
				}<span class="keyword">else</span> <span class="keyword">if</span>(type == <span class="string">'ticker'</span>){</pre></div></div>
            
        </li>
        
        
        <li id="section-111">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-111">&#182;</a>
              </div>
              <p>make the transition use &#39;linear&#39;</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					el.css(<span class="string">'-'</span> + slider.cssPrefix + <span class="string">'-transition-timing-function'</span>, <span class="string">'linear'</span>);
					el.css(slider.animProp, propValue);</pre></div></div>
            
        </li>
        
        
        <li id="section-112">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-112">&#182;</a>
              </div>
              <p>bind a callback method - executes when CSS transition completes</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					el.bind(<span class="string">'transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd'</span>, <span class="keyword">function</span>(){</pre></div></div>
            
        </li>
        
        
        <li id="section-113">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-113">&#182;</a>
              </div>
              <p>unbind the callback</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>						el.unbind(<span class="string">'transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd'</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-114">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-114">&#182;</a>
              </div>
              <p>reset the position</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>						setPositionProperty(params[<span class="string">'resetValue'</span>], <span class="string">'reset'</span>, <span class="number">0</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-115">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-115">&#182;</a>
              </div>
              <p>start the loop again</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>						tickerLoop();
					});
				}</pre></div></div>
            
        </li>
        
        
        <li id="section-116">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-116">&#182;</a>
              </div>
              <p>use JS animate</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			}<span class="keyword">else</span>{
				<span class="keyword">var</span> animateObj = {};
				animateObj[slider.animProp] = value;
				<span class="keyword">if</span>(type == <span class="string">'slide'</span>){
					el.animate(animateObj, duration, slider.settings.easing, <span class="keyword">function</span>(){
						updateAfterSlideTransition();
					});
				}<span class="keyword">else</span> <span class="keyword">if</span>(type == <span class="string">'reset'</span>){
					el.css(slider.animProp, value)
				}<span class="keyword">else</span> <span class="keyword">if</span>(type == <span class="string">'ticker'</span>){
					el.animate(animateObj, speed, <span class="string">'linear'</span>, <span class="keyword">function</span>(){
						setPositionProperty(params[<span class="string">'resetValue'</span>], <span class="string">'reset'</span>, <span class="number">0</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-117">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-117">&#182;</a>
              </div>
              <p>run the recursive loop after animation</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>						tickerLoop();
					});
				}
			}
		}
		
		<span class="comment">/**
		 * Populates the pager with proper amount of pages
		 */</span>
		<span class="keyword">var</span> populatePager = <span class="keyword">function</span>(){
			<span class="keyword">var</span> pagerHtml = <span class="string">''</span>;
			<span class="keyword">var</span> pagerQty = getPagerQty();</pre></div></div>
            
        </li>
        
        
        <li id="section-118">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-118">&#182;</a>
              </div>
              <p>loop through each pager item</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i &lt; pagerQty; i++){
				<span class="keyword">var</span> linkContent = <span class="string">''</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-119">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-119">&#182;</a>
              </div>
              <p>if a buildPager function is supplied, use it to get pager link value, else use index + 1</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				<span class="keyword">if</span>(slider.settings.buildPager &amp;&amp; $.isFunction(slider.settings.buildPager)){
					linkContent = slider.settings.buildPager(i);
					slider.pagerEl.addClass(<span class="string">'bx-custom-pager'</span>);
				}<span class="keyword">else</span>{
					linkContent = i + <span class="number">1</span>;
					slider.pagerEl.addClass(<span class="string">'bx-default-pager'</span>);
				}</pre></div></div>
            
        </li>
        
        
        <li id="section-120">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-120">&#182;</a>
              </div>
              <p>var linkContent = slider.settings.buildPager &amp;&amp; $.isFunction(slider.settings.buildPager) ? slider.settings.buildPager(i) : i + 1;
add the markup to the string</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				pagerHtml += <span class="string">'&lt;div class="bx-pager-item"&gt;&lt;a href="" data-slide-index="'</span> + i + <span class="string">'" class="bx-pager-link"&gt;'</span> + linkContent + <span class="string">'&lt;/a&gt;&lt;/div&gt;'</span>;
			};</pre></div></div>
            
        </li>
        
        
        <li id="section-121">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-121">&#182;</a>
              </div>
              <p>populate the pager element with pager links</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			slider.pagerEl.html(pagerHtml);
		}
		
		<span class="comment">/**
		 * Appends the pager to the controls element
		 */</span>
		<span class="keyword">var</span> appendPager = <span class="keyword">function</span>(){
			<span class="keyword">if</span>(!slider.settings.pagerCustom){</pre></div></div>
            
        </li>
        
        
        <li id="section-122">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-122">&#182;</a>
              </div>
              <p>create the pager DOM element</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				slider.pagerEl = $(<span class="string">'&lt;div class="bx-pager" /&gt;'</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-123">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-123">&#182;</a>
              </div>
              <p>if a pager selector was supplied, populate it with the pager</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				<span class="keyword">if</span>(slider.settings.pagerSelector){
					$(slider.settings.pagerSelector).html(slider.pagerEl);</pre></div></div>
            
        </li>
        
        
        <li id="section-124">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-124">&#182;</a>
              </div>
              <p>if no pager selector was supplied, add it after the wrapper</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				}<span class="keyword">else</span>{
					slider.controls.el.addClass(<span class="string">'bx-has-pager'</span>).append(slider.pagerEl);
				}</pre></div></div>
            
        </li>
        
        
        <li id="section-125">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-125">&#182;</a>
              </div>
              <p>populate the pager</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				populatePager();
			}<span class="keyword">else</span>{
				slider.pagerEl = $(slider.settings.pagerCustom);
			}</pre></div></div>
            
        </li>
        
        
        <li id="section-126">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-126">&#182;</a>
              </div>
              <p>assign the pager click binding</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			slider.pagerEl.delegate(<span class="string">'a'</span>, <span class="string">'click'</span>, clickPagerBind);
		}
		
		<span class="comment">/**
		 * Appends prev / next controls to the controls element
		 */</span>
		<span class="keyword">var</span> appendControls = <span class="keyword">function</span>(){
			slider.controls.next = $(<span class="string">'&lt;a class="bx-next" href=""&gt;'</span> + slider.settings.nextText + <span class="string">'&lt;/a&gt;'</span>);
			slider.controls.prev = $(<span class="string">'&lt;a class="bx-prev" href=""&gt;'</span> + slider.settings.prevText + <span class="string">'&lt;/a&gt;'</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-127">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-127">&#182;</a>
              </div>
              <p>bind click actions to the controls</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			slider.controls.next.bind(<span class="string">'click'</span>, clickNextBind);
			slider.controls.prev.bind(<span class="string">'click'</span>, clickPrevBind);</pre></div></div>
            
        </li>
        
        
        <li id="section-128">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-128">&#182;</a>
              </div>
              <p>if nextSlector was supplied, populate it</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span>(slider.settings.nextSelector){
				$(slider.settings.nextSelector).append(slider.controls.next);
			}</pre></div></div>
            
        </li>
        
        
        <li id="section-129">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-129">&#182;</a>
              </div>
              <p>if prevSlector was supplied, populate it</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span>(slider.settings.prevSelector){
				$(slider.settings.prevSelector).append(slider.controls.prev);
			}</pre></div></div>
            
        </li>
        
        
        <li id="section-130">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-130">&#182;</a>
              </div>
              <p>if no custom selectors were supplied</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span>(!slider.settings.nextSelector &amp;&amp; !slider.settings.prevSelector){</pre></div></div>
            
        </li>
        
        
        <li id="section-131">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-131">&#182;</a>
              </div>
              <p>add the controls to the DOM</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				slider.controls.directionEl = $(<span class="string">'&lt;div class="bx-controls-direction" /&gt;'</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-132">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-132">&#182;</a>
              </div>
              <p>add the control elements to the directionEl</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				slider.controls.directionEl.append(slider.controls.prev).append(slider.controls.next);</pre></div></div>
            
        </li>
        
        
        <li id="section-133">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-133">&#182;</a>
              </div>
              <p>slider.viewport.append(slider.controls.directionEl);</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				slider.controls.el.addClass(<span class="string">'bx-has-controls-direction'</span>).append(slider.controls.directionEl);
			}
		}
		
		<span class="comment">/**
		 * Appends start / stop auto controls to the controls element
		 */</span>
		<span class="keyword">var</span> appendControlsAuto = <span class="keyword">function</span>(){
			slider.controls.start = $(<span class="string">'&lt;div class="bx-controls-auto-item"&gt;&lt;a class="bx-start" href=""&gt;'</span> + slider.settings.startText + <span class="string">'&lt;/a&gt;&lt;/div&gt;'</span>);
			slider.controls.stop = $(<span class="string">'&lt;div class="bx-controls-auto-item"&gt;&lt;a class="bx-stop" href=""&gt;'</span> + slider.settings.stopText + <span class="string">'&lt;/a&gt;&lt;/div&gt;'</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-134">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-134">&#182;</a>
              </div>
              <p>add the controls to the DOM</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			slider.controls.autoEl = $(<span class="string">'&lt;div class="bx-controls-auto" /&gt;'</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-135">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-135">&#182;</a>
              </div>
              <p>bind click actions to the controls</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			slider.controls.autoEl.delegate(<span class="string">'.bx-start'</span>, <span class="string">'click'</span>, clickStartBind);
			slider.controls.autoEl.delegate(<span class="string">'.bx-stop'</span>, <span class="string">'click'</span>, clickStopBind);</pre></div></div>
            
        </li>
        
        
        <li id="section-136">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-136">&#182;</a>
              </div>
              <p>if autoControlsCombine, insert only the &quot;start&quot; control</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span>(slider.settings.autoControlsCombine){
				slider.controls.autoEl.append(slider.controls.start);</pre></div></div>
            
        </li>
        
        
        <li id="section-137">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-137">&#182;</a>
              </div>
              <p>if autoControlsCombine is false, insert both controls</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			}<span class="keyword">else</span>{
				slider.controls.autoEl.append(slider.controls.start).append(slider.controls.stop);
			}</pre></div></div>
            
        </li>
        
        
        <li id="section-138">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-138">&#182;</a>
              </div>
              <p>if auto controls selector was supplied, populate it with the controls</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span>(slider.settings.autoControlsSelector){
				$(slider.settings.autoControlsSelector).html(slider.controls.autoEl);</pre></div></div>
            
        </li>
        
        
        <li id="section-139">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-139">&#182;</a>
              </div>
              <p>if auto controls selector was not supplied, add it after the wrapper</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			}<span class="keyword">else</span>{
				slider.controls.el.addClass(<span class="string">'bx-has-controls-auto'</span>).append(slider.controls.autoEl);
			}</pre></div></div>
            
        </li>
        
        
        <li id="section-140">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-140">&#182;</a>
              </div>
              <p>update the auto controls</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			updateAutoControls(slider.settings.autoStart ? <span class="string">'stop'</span> : <span class="string">'start'</span>);
		}
		
		<span class="comment">/**
		 * Appends image captions to the DOM
		 */</span>
		<span class="keyword">var</span> appendCaptions = <span class="keyword">function</span>(){</pre></div></div>
            
        </li>
        
        
        <li id="section-141">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-141">&#182;</a>
              </div>
              <p>cycle through each child</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			slider.children.each(<span class="keyword">function</span>(index){</pre></div></div>
            
        </li>
        
        
        <li id="section-142">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-142">&#182;</a>
              </div>
              <p>get the image title attribute</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				<span class="keyword">var</span> title = $(<span class="keyword">this</span>).find(<span class="string">'img:first'</span>).attr(<span class="string">'title'</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-143">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-143">&#182;</a>
              </div>
              <p>append the caption</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				<span class="keyword">if</span> (title != <span class="literal">undefined</span>) $(<span class="keyword">this</span>).append(<span class="string">'&lt;div class="bx-caption"&gt;&lt;span&gt;'</span> + title + <span class="string">'&lt;/span&gt;&lt;/div&gt;'</span>);
			});
		}
		
		<span class="comment">/**
		 * Click next binding
		 *
		 * @param e (event) 
		 *  - DOM event object
		 */</span>
		<span class="keyword">var</span> clickNextBind = <span class="keyword">function</span>(e){</pre></div></div>
            
        </li>
        
        
        <li id="section-144">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-144">&#182;</a>
              </div>
              <p>if auto show is running, stop it</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span> (slider.settings.auto) el.stopAuto();
			el.goToNextSlide();
			e.preventDefault();
		}
		
		<span class="comment">/**
		 * Click prev binding
		 *
		 * @param e (event) 
		 *  - DOM event object
		 */</span>
		<span class="keyword">var</span> clickPrevBind = <span class="keyword">function</span>(e){</pre></div></div>
            
        </li>
        
        
        <li id="section-145">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-145">&#182;</a>
              </div>
              <p>if auto show is running, stop it</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span> (slider.settings.auto) el.stopAuto();
			el.goToPrevSlide();
			e.preventDefault();
		}
		
		<span class="comment">/**
		 * Click start binding
		 *
		 * @param e (event) 
		 *  - DOM event object
		 */</span>
		<span class="keyword">var</span> clickStartBind = <span class="keyword">function</span>(e){
			el.startAuto();
			e.preventDefault();
		}
		
		<span class="comment">/**
		 * Click stop binding
		 *
		 * @param e (event) 
		 *  - DOM event object
		 */</span>
		<span class="keyword">var</span> clickStopBind = <span class="keyword">function</span>(e){
			el.stopAuto();
			e.preventDefault();
		}

		<span class="comment">/**
		 * Click pager binding
		 *
		 * @param e (event) 
		 *  - DOM event object
		 */</span>
		<span class="keyword">var</span> clickPagerBind = <span class="keyword">function</span>(e){</pre></div></div>
            
        </li>
        
        
        <li id="section-146">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-146">&#182;</a>
              </div>
              <p>if auto show is running, stop it</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span> (slider.settings.auto) el.stopAuto();
			<span class="keyword">var</span> pagerLink = $(e.currentTarget);
			<span class="keyword">var</span> pagerIndex = parseInt(pagerLink.attr(<span class="string">'data-slide-index'</span>));</pre></div></div>
            
        </li>
        
        
        <li id="section-147">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-147">&#182;</a>
              </div>
              <p>if clicked pager link is not active, continue with the goToSlide call</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span>(pagerIndex != slider.active.index) el.goToSlide(pagerIndex);
			e.preventDefault();
		}
		
		<span class="comment">/**
		 * Updates the pager links with an active class
		 *
		 * @param slideIndex (int) 
		 *  - index of slide to make active
		 */</span>
		<span class="keyword">var</span> updatePagerActive = <span class="keyword">function</span>(slideIndex){</pre></div></div>
            
        </li>
        
        
        <li id="section-148">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-148">&#182;</a>
              </div>
              <p>if &quot;short&quot; pager type</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span>(slider.settings.pagerType == <span class="string">'short'</span>){
				slider.pagerEl.html((slideIndex + <span class="number">1</span>) + slider.settings.pagerShortSeparator + slider.children.length);
				<span class="keyword">return</span>;
			}</pre></div></div>
            
        </li>
        
        
        <li id="section-149">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-149">&#182;</a>
              </div>
              <p>remove all pager active classes</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			slider.pagerEl.find(<span class="string">'a'</span>).removeClass(<span class="string">'active'</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-150">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-150">&#182;</a>
              </div>
              <p>apply the active class for all pagers</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			slider.pagerEl.each(<span class="keyword">function</span>(i, el) { $(el).find(<span class="string">'a'</span>).eq(slideIndex).addClass(<span class="string">'active'</span>); });
		}
		
		<span class="comment">/**
		 * Performs needed actions after a slide transition
		 */</span>
		<span class="keyword">var</span> updateAfterSlideTransition = <span class="keyword">function</span>(){</pre></div></div>
            
        </li>
        
        
        <li id="section-151">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-151">&#182;</a>
              </div>
              <p>if infinte loop is true</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span>(slider.settings.infiniteLoop){
				<span class="keyword">var</span> position = <span class="string">''</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-152">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-152">&#182;</a>
              </div>
              <p>first slide</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				<span class="keyword">if</span>(slider.active.index == <span class="number">0</span>){</pre></div></div>
            
        </li>
        
        
        <li id="section-153">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-153">&#182;</a>
              </div>
              <p>set the new position</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					position = slider.children.eq(<span class="number">0</span>).position();</pre></div></div>
            
        </li>
        
        
        <li id="section-154">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-154">&#182;</a>
              </div>
              <p>carousel, last slide</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				}<span class="keyword">else</span> <span class="keyword">if</span>(slider.active.index == getPagerQty() - <span class="number">1</span> &amp;&amp; slider.carousel){
					position = slider.children.eq((getPagerQty() - <span class="number">1</span>) * getMoveBy()).position();</pre></div></div>
            
        </li>
        
        
        <li id="section-155">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-155">&#182;</a>
              </div>
              <p>last slide</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				}<span class="keyword">else</span> <span class="keyword">if</span>(slider.active.index == slider.children.length - <span class="number">1</span>){
					position = slider.children.eq(slider.children.length - <span class="number">1</span>).position();
				}
				<span class="keyword">if</span> (slider.settings.mode == <span class="string">'horizontal'</span>) { setPositionProperty(-position.left, <span class="string">'reset'</span>, <span class="number">0</span>);; }
				<span class="keyword">else</span> <span class="keyword">if</span> (slider.settings.mode == <span class="string">'vertical'</span>) { setPositionProperty(-position.top, <span class="string">'reset'</span>, <span class="number">0</span>);; }
			}</pre></div></div>
            
        </li>
        
        
        <li id="section-156">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-156">&#182;</a>
              </div>
              <p>declare that the transition is complete</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			slider.working = <span class="literal">false</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-157">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-157">&#182;</a>
              </div>
              <p>onSlideAfter callback</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			slider.settings.onSlideAfter(slider.children.eq(slider.active.index), slider.oldIndex, slider.active.index);
		}
		
		<span class="comment">/**
		 * Updates the auto controls state (either active, or combined switch)
		 *
		 * @param state (string) "start", "stop"
		 *  - the new state of the auto show
		 */</span>
		<span class="keyword">var</span> updateAutoControls = <span class="keyword">function</span>(state){</pre></div></div>
            
        </li>
        
        
        <li id="section-158">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-158">&#182;</a>
              </div>
              <p>if autoControlsCombine is true, replace the current control with the new state </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span>(slider.settings.autoControlsCombine){
				slider.controls.autoEl.html(slider.controls[state]);</pre></div></div>
            
        </li>
        
        
        <li id="section-159">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-159">&#182;</a>
              </div>
              <p>if autoControlsCombine is false, apply the &quot;active&quot; class to the appropriate control </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			}<span class="keyword">else</span>{
				slider.controls.autoEl.find(<span class="string">'a'</span>).removeClass(<span class="string">'active'</span>);
				slider.controls.autoEl.find(<span class="string">'a:not(.bx-'</span> + state + <span class="string">')'</span>).addClass(<span class="string">'active'</span>);
			}
		}
		
		<span class="comment">/**
		 * Updates the direction controls (checks if either should be hidden)
		 */</span>
		<span class="keyword">var</span> updateDirectionControls = <span class="keyword">function</span>(){
			<span class="keyword">if</span>(getPagerQty() == <span class="number">1</span>){
				slider.controls.prev.addClass(<span class="string">'disabled'</span>);
				slider.controls.next.addClass(<span class="string">'disabled'</span>);
			}<span class="keyword">else</span> <span class="keyword">if</span>(!slider.settings.infiniteLoop &amp;&amp; slider.settings.hideControlOnEnd){</pre></div></div>
            
        </li>
        
        
        <li id="section-160">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-160">&#182;</a>
              </div>
              <p>if first slide</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				<span class="keyword">if</span> (slider.active.index == <span class="number">0</span>){
					slider.controls.prev.addClass(<span class="string">'disabled'</span>);
					slider.controls.next.removeClass(<span class="string">'disabled'</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-161">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-161">&#182;</a>
              </div>
              <p>if last slide</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				}<span class="keyword">else</span> <span class="keyword">if</span>(slider.active.index == getPagerQty() - <span class="number">1</span>){
					slider.controls.next.addClass(<span class="string">'disabled'</span>);
					slider.controls.prev.removeClass(<span class="string">'disabled'</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-162">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-162">&#182;</a>
              </div>
              <p>if any slide in the middle</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				}<span class="keyword">else</span>{
					slider.controls.prev.removeClass(<span class="string">'disabled'</span>);
					slider.controls.next.removeClass(<span class="string">'disabled'</span>);
				}
			}
		}
		
		<span class="comment">/**
		 * Initialzes the auto process
		 */</span>
		<span class="keyword">var</span> initAuto = <span class="keyword">function</span>(){</pre></div></div>
            
        </li>
        
        
        <li id="section-163">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-163">&#182;</a>
              </div>
              <p>if autoDelay was supplied, launch the auto show using a setTimeout() call</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span>(slider.settings.autoDelay &gt; <span class="number">0</span>){
				<span class="keyword">var</span> timeout = setTimeout(el.startAuto, slider.settings.autoDelay);</pre></div></div>
            
        </li>
        
        
        <li id="section-164">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-164">&#182;</a>
              </div>
              <p>if autoDelay was not supplied, start the auto show normally</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			}<span class="keyword">else</span>{
				el.startAuto();
			}</pre></div></div>
            
        </li>
        
        
        <li id="section-165">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-165">&#182;</a>
              </div>
              <p>if autoHover is requested</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span>(slider.settings.autoHover){</pre></div></div>
            
        </li>
        
        
        <li id="section-166">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-166">&#182;</a>
              </div>
              <p>on el hover</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				el.hover(<span class="keyword">function</span>(){</pre></div></div>
            
        </li>
        
        
        <li id="section-167">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-167">&#182;</a>
              </div>
              <p>if the auto show is currently playing (has an active interval)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					<span class="keyword">if</span>(slider.interval){</pre></div></div>
            
        </li>
        
        
        <li id="section-168">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-168">&#182;</a>
              </div>
              <p>stop the auto show and pass true agument which will prevent control update</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>						el.stopAuto(<span class="literal">true</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-169">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-169">&#182;</a>
              </div>
              <p>create a new autoPaused value which will be used by the relative &quot;mouseout&quot; event</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>						slider.autoPaused = <span class="literal">true</span>;
					}
				}, <span class="keyword">function</span>(){</pre></div></div>
            
        </li>
        
        
        <li id="section-170">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-170">&#182;</a>
              </div>
              <p>if the autoPaused value was created be the prior &quot;mouseover&quot; event</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					<span class="keyword">if</span>(slider.autoPaused){</pre></div></div>
            
        </li>
        
        
        <li id="section-171">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-171">&#182;</a>
              </div>
              <p>start the auto show and pass true agument which will prevent control update</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>						el.startAuto(<span class="literal">true</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-172">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-172">&#182;</a>
              </div>
              <p>reset the autoPaused value</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>						slider.autoPaused = <span class="literal">null</span>;
					}
				});
			}
		}
		
		<span class="comment">/**
		 * Initialzes the ticker process
		 */</span>
		<span class="keyword">var</span> initTicker = <span class="keyword">function</span>(){
			<span class="keyword">var</span> startPosition = <span class="number">0</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-173">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-173">&#182;</a>
              </div>
              <p>if autoDirection is &quot;next&quot;, append a clone of the entire slider</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span>(slider.settings.autoDirection == <span class="string">'next'</span>){
				el.append(slider.children.clone().addClass(<span class="string">'bx-clone'</span>));</pre></div></div>
            
        </li>
        
        
        <li id="section-174">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-174">&#182;</a>
              </div>
              <p>if autoDirection is &quot;prev&quot;, prepend a clone of the entire slider, and set the left position</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			}<span class="keyword">else</span>{
				el.prepend(slider.children.clone().addClass(<span class="string">'bx-clone'</span>));
				<span class="keyword">var</span> position = slider.children.first().position();
				startPosition = slider.settings.mode == <span class="string">'horizontal'</span> ? -position.left : -position.top;
			}
			setPositionProperty(startPosition, <span class="string">'reset'</span>, <span class="number">0</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-175">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-175">&#182;</a>
              </div>
              <p>do not allow controls in ticker mode</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			slider.settings.pager = <span class="literal">false</span>;
			slider.settings.controls = <span class="literal">false</span>;
			slider.settings.autoControls = <span class="literal">false</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-176">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-176">&#182;</a>
              </div>
              <p>if autoHover is requested</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span>(slider.settings.tickerHover &amp;&amp; !slider.usingCSS){</pre></div></div>
            
        </li>
        
        
        <li id="section-177">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-177">&#182;</a>
              </div>
              <p>on el hover</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				slider.viewport.hover(<span class="keyword">function</span>(){
					el.stop();
				}, <span class="keyword">function</span>(){</pre></div></div>
            
        </li>
        
        
        <li id="section-178">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-178">&#182;</a>
              </div>
              <p>calculate the total width of children (used to calculate the speed ratio)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					<span class="keyword">var</span> totalDimens = <span class="number">0</span>;
					slider.children.each(<span class="keyword">function</span>(index){
					  totalDimens += slider.settings.mode == <span class="string">'horizontal'</span> ? $(<span class="keyword">this</span>).outerWidth(<span class="literal">true</span>) : $(<span class="keyword">this</span>).outerHeight(<span class="literal">true</span>);
					});</pre></div></div>
            
        </li>
        
        
        <li id="section-179">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-179">&#182;</a>
              </div>
              <p>calculate the speed ratio (used to determine the new speed to finish the paused animation)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					<span class="keyword">var</span> ratio = slider.settings.speed / totalDimens;</pre></div></div>
            
        </li>
        
        
        <li id="section-180">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-180">&#182;</a>
              </div>
              <p>determine which property to use</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					<span class="keyword">var</span> property = slider.settings.mode == <span class="string">'horizontal'</span> ? <span class="string">'left'</span> : <span class="string">'top'</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-181">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-181">&#182;</a>
              </div>
              <p>calculate the new speed</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					<span class="keyword">var</span> newSpeed = ratio * (totalDimens - (Math.abs(parseInt(el.css(property)))));
					tickerLoop(newSpeed);
				});
			}</pre></div></div>
            
        </li>
        
        
        <li id="section-182">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-182">&#182;</a>
              </div>
              <p>start the ticker loop</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			tickerLoop();
		}
		
		<span class="comment">/**
		 * Runs a continuous loop, news ticker-style
		 */</span>
		<span class="keyword">var</span> tickerLoop = <span class="keyword">function</span>(resumeSpeed){
			speed = resumeSpeed ? resumeSpeed : slider.settings.speed;
			<span class="keyword">var</span> position = {left: <span class="number">0</span>, top: <span class="number">0</span>};
			<span class="keyword">var</span> reset = {left: <span class="number">0</span>, top: <span class="number">0</span>};</pre></div></div>
            
        </li>
        
        
        <li id="section-183">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-183">&#182;</a>
              </div>
              <p>if &quot;next&quot; animate left position to last child, then reset left to 0</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span>(slider.settings.autoDirection == <span class="string">'next'</span>){
				position = el.find(<span class="string">'.bx-clone'</span>).first().position();</pre></div></div>
            
        </li>
        
        
        <li id="section-184">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-184">&#182;</a>
              </div>
              <p>if &quot;prev&quot; animate left position to 0, then reset left to first non-clone child</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			}<span class="keyword">else</span>{
				reset = slider.children.first().position();
			}
			<span class="keyword">var</span> animateProperty = slider.settings.mode == <span class="string">'horizontal'</span> ? -position.left : -position.top;
			<span class="keyword">var</span> resetValue = slider.settings.mode == <span class="string">'horizontal'</span> ? -reset.left : -reset.top;
			<span class="keyword">var</span> params = {resetValue: resetValue};
			setPositionProperty(animateProperty, <span class="string">'ticker'</span>, speed, params);
		}
		
		<span class="comment">/**
		 * Initializes touch events
		 */</span>
		<span class="keyword">var</span> initTouch = <span class="keyword">function</span>(){</pre></div></div>
            
        </li>
        
        
        <li id="section-185">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-185">&#182;</a>
              </div>
              <p>initialize object to contain all touch values</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			slider.touch = {
				start: {x: <span class="number">0</span>, y: <span class="number">0</span>},
				end: {x: <span class="number">0</span>, y: <span class="number">0</span>}
			}
			slider.viewport.bind(<span class="string">'touchstart'</span>, onTouchStart);
		}
		
		<span class="comment">/**
		 * Event handler for "touchstart"
		 *
		 * @param e (event) 
		 *  - DOM event object
		 */</span>
		<span class="keyword">var</span> onTouchStart = <span class="keyword">function</span>(e){
			<span class="keyword">if</span>(slider.working){
				e.preventDefault();
			}<span class="keyword">else</span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-186">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-186">&#182;</a>
              </div>
              <p>record the original position when touch starts</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				slider.touch.originalPos = el.position();
				<span class="keyword">var</span> orig = e.originalEvent;</pre></div></div>
            
        </li>
        
        
        <li id="section-187">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-187">&#182;</a>
              </div>
              <p>record the starting touch x, y coordinates</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				slider.touch.start.x = orig.changedTouches[<span class="number">0</span>].pageX;
				slider.touch.start.y = orig.changedTouches[<span class="number">0</span>].pageY;</pre></div></div>
            
        </li>
        
        
        <li id="section-188">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-188">&#182;</a>
              </div>
              <p>bind a &quot;touchmove&quot; event to the viewport</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				slider.viewport.bind(<span class="string">'touchmove'</span>, onTouchMove);</pre></div></div>
            
        </li>
        
        
        <li id="section-189">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-189">&#182;</a>
              </div>
              <p>bind a &quot;touchend&quot; event to the viewport</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				slider.viewport.bind(<span class="string">'touchend'</span>, onTouchEnd);
			}
		}
		
		<span class="comment">/**
		 * Event handler for "touchmove"
		 *
		 * @param e (event) 
		 *  - DOM event object
		 */</span>
		<span class="keyword">var</span> onTouchMove = <span class="keyword">function</span>(e){
			<span class="keyword">var</span> orig = e.originalEvent;</pre></div></div>
            
        </li>
        
        
        <li id="section-190">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-190">&#182;</a>
              </div>
              <p>if scrolling on y axis, do not prevent default</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">var</span> xMovement = Math.abs(orig.changedTouches[<span class="number">0</span>].pageX - slider.touch.start.x);
			<span class="keyword">var</span> yMovement = Math.abs(orig.changedTouches[<span class="number">0</span>].pageY - slider.touch.start.y);</pre></div></div>
            
        </li>
        
        
        <li id="section-191">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-191">&#182;</a>
              </div>
              <p>x axis swipe</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span>((xMovement * <span class="number">3</span>) &gt; yMovement &amp;&amp; slider.settings.preventDefaultSwipeX){
				e.preventDefault();</pre></div></div>
            
        </li>
        
        
        <li id="section-192">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-192">&#182;</a>
              </div>
              <p>y axis swipe</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			}<span class="keyword">else</span> <span class="keyword">if</span>((yMovement * <span class="number">3</span>) &gt; xMovement &amp;&amp; slider.settings.preventDefaultSwipeY){
				e.preventDefault();
			}
			<span class="keyword">if</span>(slider.settings.mode != <span class="string">'fade'</span> &amp;&amp; slider.settings.oneToOneTouch){
				<span class="keyword">var</span> value = <span class="number">0</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-193">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-193">&#182;</a>
              </div>
              <p>if horizontal, drag along x axis</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				<span class="keyword">if</span>(slider.settings.mode == <span class="string">'horizontal'</span>){
					<span class="keyword">var</span> change = orig.changedTouches[<span class="number">0</span>].pageX - slider.touch.start.x;
					value = slider.touch.originalPos.left + change;</pre></div></div>
            
        </li>
        
        
        <li id="section-194">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-194">&#182;</a>
              </div>
              <p>if vertical, drag along y axis</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				}<span class="keyword">else</span>{
					<span class="keyword">var</span> change = orig.changedTouches[<span class="number">0</span>].pageY - slider.touch.start.y;
					value = slider.touch.originalPos.top + change;
				}
				setPositionProperty(value, <span class="string">'reset'</span>, <span class="number">0</span>);
			}
		}
		
		<span class="comment">/**
		 * Event handler for "touchend"
		 *
		 * @param e (event) 
		 *  - DOM event object
		 */</span>
		<span class="keyword">var</span> onTouchEnd = <span class="keyword">function</span>(e){
			slider.viewport.unbind(<span class="string">'touchmove'</span>, onTouchMove);
			<span class="keyword">var</span> orig = e.originalEvent;
			<span class="keyword">var</span> value = <span class="number">0</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-195">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-195">&#182;</a>
              </div>
              <p>record end x, y positions</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			slider.touch.end.x = orig.changedTouches[<span class="number">0</span>].pageX;
			slider.touch.end.y = orig.changedTouches[<span class="number">0</span>].pageY;</pre></div></div>
            
        </li>
        
        
        <li id="section-196">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-196">&#182;</a>
              </div>
              <p>if fade mode, check if absolute x distance clears the threshold</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span>(slider.settings.mode == <span class="string">'fade'</span>){
				<span class="keyword">var</span> distance = Math.abs(slider.touch.start.x - slider.touch.end.x);
				<span class="keyword">if</span>(distance &gt;= slider.settings.swipeThreshold){
					slider.touch.start.x &gt; slider.touch.end.x ? el.goToNextSlide() : el.goToPrevSlide();
					el.stopAuto();
				}</pre></div></div>
            
        </li>
        
        
        <li id="section-197">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-197">&#182;</a>
              </div>
              <p>not fade mode</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			}<span class="keyword">else</span>{
				<span class="keyword">var</span> distance = <span class="number">0</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-198">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-198">&#182;</a>
              </div>
              <p>calculate distance and el&#39;s animate property</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				<span class="keyword">if</span>(slider.settings.mode == <span class="string">'horizontal'</span>){
					distance = slider.touch.end.x - slider.touch.start.x;
					value = slider.touch.originalPos.left;
				}<span class="keyword">else</span>{
					distance = slider.touch.end.y - slider.touch.start.y;
					value = slider.touch.originalPos.top;
				}</pre></div></div>
            
        </li>
        
        
        <li id="section-199">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-199">&#182;</a>
              </div>
              <p>if not infinite loop and first / last slide, do not attempt a slide transition</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				<span class="keyword">if</span>(!slider.settings.infiniteLoop &amp;&amp; ((slider.active.index == <span class="number">0</span> &amp;&amp; distance &gt; <span class="number">0</span>) || (slider.active.last &amp;&amp; distance &lt; <span class="number">0</span>))){
					setPositionProperty(value, <span class="string">'reset'</span>, <span class="number">200</span>);
				}<span class="keyword">else</span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-200">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-200">&#182;</a>
              </div>
              <p>check if distance clears threshold</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					<span class="keyword">if</span>(Math.abs(distance) &gt;= slider.settings.swipeThreshold){
						distance &lt; <span class="number">0</span> ? el.goToNextSlide() : el.goToPrevSlide();
						el.stopAuto();
					}<span class="keyword">else</span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-201">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-201">&#182;</a>
              </div>
              <p>el.animate(property, 200);</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>						setPositionProperty(value, <span class="string">'reset'</span>, <span class="number">200</span>);
					}
				}
			}
			slider.viewport.unbind(<span class="string">'touchend'</span>, onTouchEnd);
		}

		<span class="comment">/**
		 * Window resize event callback
		 */</span>
		<span class="keyword">var</span> resizeWindow = <span class="keyword">function</span>(e){</pre></div></div>
            
        </li>
        
        
        <li id="section-202">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-202">&#182;</a>
              </div>
              <p>get the new window dimens (again, thank you IE)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">var</span> windowWidthNew = $(window).width();
			<span class="keyword">var</span> windowHeightNew = $(window).height();</pre></div></div>
            
        </li>
        
        
        <li id="section-203">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-203">&#182;</a>
              </div>
              <p>make sure that it is a true window resize
<em>we must check this because our dinosaur friend IE fires a window resize event when certain DOM elements
are resized. Can you just die already?</em></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span>(windowWidth != windowWidthNew || windowHeight != windowHeightNew){</pre></div></div>
            
        </li>
        
        
        <li id="section-204">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-204">&#182;</a>
              </div>
              <p>set the new window dimens</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				windowWidth = windowWidthNew;
				windowHeight = windowHeightNew;</pre></div></div>
            
        </li>
        
        
        <li id="section-205">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-205">&#182;</a>
              </div>
              <p>update all dynamic elements</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				el.redrawSlider();
			}
		}
		
		<span class="comment">/**
		 * ===================================================================================
		 * = PUBLIC FUNCTIONS
		 * ===================================================================================
		 */</span>
		
		<span class="comment">/**
		 * Performs slide transition to the specified slide
		 *
		 * @param slideIndex (int) 
		 *  - the destination slide's index (zero-based)
		 *
		 * @param direction (string) 
		 *  - INTERNAL USE ONLY - the direction of travel ("prev" / "next")
		 */</span>
		el.goToSlide = <span class="keyword">function</span>(slideIndex, direction){</pre></div></div>
            
        </li>
        
        
        <li id="section-206">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-206">&#182;</a>
              </div>
              <p>if plugin is currently in motion, ignore request</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span>(slider.working || slider.active.index == slideIndex) <span class="keyword">return</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-207">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-207">&#182;</a>
              </div>
              <p>declare that plugin is in motion</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			slider.working = <span class="literal">true</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-208">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-208">&#182;</a>
              </div>
              <p>store the old index</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			slider.oldIndex = slider.active.index;</pre></div></div>
            
        </li>
        
        
        <li id="section-209">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-209">&#182;</a>
              </div>
              <p>if slideIndex is less than zero, set active index to last child (this happens during infinite loop)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span>(slideIndex &lt; <span class="number">0</span>){
				slider.active.index = getPagerQty() - <span class="number">1</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-210">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-210">&#182;</a>
              </div>
              <p>if slideIndex is greater than children length, set active index to 0 (this happens during infinite loop)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			}<span class="keyword">else</span> <span class="keyword">if</span>(slideIndex &gt;= getPagerQty()){
				slider.active.index = <span class="number">0</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-211">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-211">&#182;</a>
              </div>
              <p>set active index to requested slide</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			}<span class="keyword">else</span>{
				slider.active.index = slideIndex;
			}</pre></div></div>
            
        </li>
        
        
        <li id="section-212">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-212">&#182;</a>
              </div>
              <p>onSlideBefore, onSlideNext, onSlidePrev callbacks</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			slider.settings.onSlideBefore(slider.children.eq(slider.active.index), slider.oldIndex, slider.active.index);
			<span class="keyword">if</span>(direction == <span class="string">'next'</span>){
				slider.settings.onSlideNext(slider.children.eq(slider.active.index), slider.oldIndex, slider.active.index);
			}<span class="keyword">else</span> <span class="keyword">if</span>(direction == <span class="string">'prev'</span>){
				slider.settings.onSlidePrev(slider.children.eq(slider.active.index), slider.oldIndex, slider.active.index);
			}</pre></div></div>
            
        </li>
        
        
        <li id="section-213">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-213">&#182;</a>
              </div>
              <p>check if last slide</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			slider.active.last = slider.active.index &gt;= getPagerQty() - <span class="number">1</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-214">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-214">&#182;</a>
              </div>
              <p>update the pager with active class</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span>(slider.settings.pager) updatePagerActive(slider.active.index);</pre></div></div>
            
        </li>
        
        
        <li id="section-215">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-215">&#182;</a>
              </div>
              <p>// check for direction control update</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span>(slider.settings.controls) updateDirectionControls();</pre></div></div>
            
        </li>
        
        
        <li id="section-216">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-216">&#182;</a>
              </div>
              <p>if slider is set to mode: &quot;fade&quot;</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span>(slider.settings.mode == <span class="string">'fade'</span>){</pre></div></div>
            
        </li>
        
        
        <li id="section-217">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-217">&#182;</a>
              </div>
              <p>if adaptiveHeight is true and next height is different from current height, animate to the new height</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				<span class="keyword">if</span>(slider.settings.adaptiveHeight &amp;&amp; slider.viewport.height() != getViewportHeight()){
					slider.viewport.animate({height: getViewportHeight()}, slider.settings.adaptiveHeightSpeed);
				}</pre></div></div>
            
        </li>
        
        
        <li id="section-218">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-218">&#182;</a>
              </div>
              <p>fade out the visible child and reset its z-index value</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				slider.children.filter(<span class="string">':visible'</span>).fadeOut(slider.settings.speed).css({zIndex: <span class="number">0</span>});</pre></div></div>
            
        </li>
        
        
        <li id="section-219">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-219">&#182;</a>
              </div>
              <p>fade in the newly requested slide</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				slider.children.eq(slider.active.index).css(<span class="string">'zIndex'</span>, <span class="number">51</span>).fadeIn(slider.settings.speed, <span class="keyword">function</span>(){
					$(<span class="keyword">this</span>).css(<span class="string">'zIndex'</span>, <span class="number">50</span>);
					updateAfterSlideTransition();
				});</pre></div></div>
            
        </li>
        
        
        <li id="section-220">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-220">&#182;</a>
              </div>
              <p>slider mode is not &quot;fade&quot;</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			}<span class="keyword">else</span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-221">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-221">&#182;</a>
              </div>
              <p>if adaptiveHeight is true and next height is different from current height, animate to the new height</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				<span class="keyword">if</span>(slider.settings.adaptiveHeight &amp;&amp; slider.viewport.height() != getViewportHeight()){
					slider.viewport.animate({height: getViewportHeight()}, slider.settings.adaptiveHeightSpeed);
				}
				<span class="keyword">var</span> moveBy = <span class="number">0</span>;
				<span class="keyword">var</span> position = {left: <span class="number">0</span>, top: <span class="number">0</span>};</pre></div></div>
            
        </li>
        
        
        <li id="section-222">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-222">&#182;</a>
              </div>
              <p>if carousel and not infinite loop</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				<span class="keyword">if</span>(!slider.settings.infiniteLoop &amp;&amp; slider.carousel &amp;&amp; slider.active.last){
					<span class="keyword">if</span>(slider.settings.mode == <span class="string">'horizontal'</span>){</pre></div></div>
            
        </li>
        
        
        <li id="section-223">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-223">&#182;</a>
              </div>
              <p>get the last child position</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>						<span class="keyword">var</span> lastChild = slider.children.eq(slider.children.length - <span class="number">1</span>);
						position = lastChild.position();</pre></div></div>
            
        </li>
        
        
        <li id="section-224">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-224">&#182;</a>
              </div>
              <p>calculate the position of the last slide</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>						moveBy = slider.viewport.width() - lastChild.width();
					}<span class="keyword">else</span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-225">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-225">&#182;</a>
              </div>
              <p>get last showing index position</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>						<span class="keyword">var</span> lastShowingIndex = slider.children.length - slider.settings.minSlides;
						position = slider.children.eq(lastShowingIndex).position();
					}</pre></div></div>
            
        </li>
        
        
        <li id="section-226">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-226">&#182;</a>
              </div>
              <p>horizontal carousel, going previous while on first slide (infiniteLoop mode)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				}<span class="keyword">else</span> <span class="keyword">if</span>(slider.carousel &amp;&amp; slider.active.last &amp;&amp; direction == <span class="string">'prev'</span>){</pre></div></div>
            
        </li>
        
        
        <li id="section-227">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-227">&#182;</a>
              </div>
              <p>get the last child position</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					<span class="keyword">var</span> eq = slider.settings.moveSlides == <span class="number">1</span> ? slider.settings.maxSlides - getMoveBy() : ((getPagerQty() - <span class="number">1</span>) * getMoveBy()) - (slider.children.length - slider.settings.maxSlides);
					<span class="keyword">var</span> lastChild = el.children(<span class="string">'.bx-clone'</span>).eq(eq);
					position = lastChild.position();</pre></div></div>
            
        </li>
        
        
        <li id="section-228">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-228">&#182;</a>
              </div>
              <p>if infinite loop and &quot;Next&quot; is clicked on the last slide</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				}<span class="keyword">else</span> <span class="keyword">if</span>(direction == <span class="string">'next'</span> &amp;&amp; slider.active.index == <span class="number">0</span>){</pre></div></div>
            
        </li>
        
        
        <li id="section-229">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-229">&#182;</a>
              </div>
              <p>get the last clone position</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					position = el.find(<span class="string">'&gt; .bx-clone'</span>).eq(slider.settings.maxSlides).position();
					slider.active.last = <span class="literal">false</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-230">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-230">&#182;</a>
              </div>
              <p>normal non-zero requests</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				}<span class="keyword">else</span> <span class="keyword">if</span>(slideIndex &gt;= <span class="number">0</span>){
					<span class="keyword">var</span> requestEl = slideIndex * getMoveBy();
					position = slider.children.eq(requestEl).position();
				}
				
				<span class="comment">/* If the position doesn't exist 
				 * (e.g. if you destroy the slider on a next click),
				 * it doesn't throw an error.
				 */</span>
				<span class="keyword">if</span> (<span class="string">"undefined"</span> !== <span class="keyword">typeof</span>(position)) {
					<span class="keyword">var</span> value = slider.settings.mode == <span class="string">'horizontal'</span> ? -(position.left - moveBy) : -position.top;</pre></div></div>
            
        </li>
        
        
        <li id="section-231">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-231">&#182;</a>
              </div>
              <p>plugin values to be animated</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					setPositionProperty(value, <span class="string">'slide'</span>, slider.settings.speed);
				}
			}
		}
		
		<span class="comment">/**
		 * Transitions to the next slide in the show
		 */</span>
		el.goToNextSlide = <span class="keyword">function</span>(){</pre></div></div>
            
        </li>
        
        
        <li id="section-232">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-232">&#182;</a>
              </div>
              <p>if infiniteLoop is false and last page is showing, disregard call</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span> (!slider.settings.infiniteLoop &amp;&amp; slider.active.last) <span class="keyword">return</span>;
			<span class="keyword">var</span> pagerIndex = parseInt(slider.active.index) + <span class="number">1</span>;
			el.goToSlide(pagerIndex, <span class="string">'next'</span>);
		}
		
		<span class="comment">/**
		 * Transitions to the prev slide in the show
		 */</span>
		el.goToPrevSlide = <span class="keyword">function</span>(){</pre></div></div>
            
        </li>
        
        
        <li id="section-233">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-233">&#182;</a>
              </div>
              <p>if infiniteLoop is false and last page is showing, disregard call</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span> (!slider.settings.infiniteLoop &amp;&amp; slider.active.index == <span class="number">0</span>) <span class="keyword">return</span>;
			<span class="keyword">var</span> pagerIndex = parseInt(slider.active.index) - <span class="number">1</span>;
			el.goToSlide(pagerIndex, <span class="string">'prev'</span>);
		}
		
		<span class="comment">/**
		 * Starts the auto show
		 *
		 * @param preventControlUpdate (boolean) 
		 *  - if true, auto controls state will not be updated
		 */</span>
		el.startAuto = <span class="keyword">function</span>(preventControlUpdate){</pre></div></div>
            
        </li>
        
        
        <li id="section-234">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-234">&#182;</a>
              </div>
              <p>if an interval already exists, disregard call</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span>(slider.interval) <span class="keyword">return</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-235">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-235">&#182;</a>
              </div>
              <p>create an interval</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			slider.interval = setInterval(<span class="keyword">function</span>(){
				slider.settings.autoDirection == <span class="string">'next'</span> ? el.goToNextSlide() : el.goToPrevSlide();
			}, slider.settings.pause);</pre></div></div>
            
        </li>
        
        
        <li id="section-236">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-236">&#182;</a>
              </div>
              <p>if auto controls are displayed and preventControlUpdate is not true</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span> (slider.settings.autoControls &amp;&amp; preventControlUpdate != <span class="literal">true</span>) updateAutoControls(<span class="string">'stop'</span>);
		}
		
		<span class="comment">/**
		 * Stops the auto show
		 *
		 * @param preventControlUpdate (boolean) 
		 *  - if true, auto controls state will not be updated
		 */</span>
		el.stopAuto = <span class="keyword">function</span>(preventControlUpdate){</pre></div></div>
            
        </li>
        
        
        <li id="section-237">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-237">&#182;</a>
              </div>
              <p>if no interval exists, disregard call</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span>(!slider.interval) <span class="keyword">return</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-238">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-238">&#182;</a>
              </div>
              <p>clear the interval</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			clearInterval(slider.interval);
			slider.interval = <span class="literal">null</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-239">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-239">&#182;</a>
              </div>
              <p>if auto controls are displayed and preventControlUpdate is not true</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span> (slider.settings.autoControls &amp;&amp; preventControlUpdate != <span class="literal">true</span>) updateAutoControls(<span class="string">'start'</span>);
		}
		
		<span class="comment">/**
		 * Returns current slide index (zero-based)
		 */</span>
		el.getCurrentSlide = <span class="keyword">function</span>(){
			<span class="keyword">return</span> slider.active.index;
		}
		
		<span class="comment">/**
		 * Returns number of slides in show
		 */</span>
		el.getSlideCount = <span class="keyword">function</span>(){
			<span class="keyword">return</span> slider.children.length;
		}

		<span class="comment">/**
		 * Update all dynamic slider elements
		 */</span>
		el.redrawSlider = <span class="keyword">function</span>(){</pre></div></div>
            
        </li>
        
        
        <li id="section-240">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-240">&#182;</a>
              </div>
              <p>resize all children in ratio to new screen size</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			slider.children.add(el.find(<span class="string">'.bx-clone'</span>)).width(getSlideWidth());</pre></div></div>
            
        </li>
        
        
        <li id="section-241">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-241">&#182;</a>
              </div>
              <p>adjust the height</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			slider.viewport.css(<span class="string">'height'</span>, getViewportHeight());</pre></div></div>
            
        </li>
        
        
        <li id="section-242">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-242">&#182;</a>
              </div>
              <p>update the slide position</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span>(!slider.settings.ticker) setSlidePosition();</pre></div></div>
            
        </li>
        
        
        <li id="section-243">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-243">&#182;</a>
              </div>
              <p>if active.last was true before the screen resize, we want
to keep it last no matter what screen size we end on</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span> (slider.active.last) slider.active.index = getPagerQty() - <span class="number">1</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-244">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-244">&#182;</a>
              </div>
              <p>if the active index (page) no longer exists due to the resize, simply set the index as last</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span> (slider.active.index &gt;= getPagerQty()) slider.active.last = <span class="literal">true</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-245">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-245">&#182;</a>
              </div>
              <p>if a pager is being displayed and a custom pager is not being used, update it</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span>(slider.settings.pager &amp;&amp; !slider.settings.pagerCustom){
				populatePager();
				updatePagerActive(slider.active.index);
			}
		}

		<span class="comment">/**
		 * Destroy the current instance of the slider (revert everything back to original state)
		 */</span>
		el.destroySlider = <span class="keyword">function</span>(){</pre></div></div>
            
        </li>
        
        
        <li id="section-246">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-246">&#182;</a>
              </div>
              <p>don&#39;t do anything if slider has already been destroyed</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="keyword">if</span>(!slider.initialized) <span class="keyword">return</span>;
			slider.initialized = <span class="literal">false</span>;
			$(<span class="string">'.bx-clone'</span>, <span class="keyword">this</span>).remove();
			slider.children.removeAttr(<span class="string">'style'</span>);
			<span class="keyword">this</span>.removeAttr(<span class="string">'style'</span>).unwrap().unwrap();
			<span class="keyword">if</span>(slider.controls.el) slider.controls.el.remove();
			<span class="keyword">if</span>(slider.controls.next) slider.controls.next.remove();
			<span class="keyword">if</span>(slider.controls.prev) slider.controls.prev.remove();
			<span class="keyword">if</span>(slider.pagerEl) slider.pagerEl.remove();
			$(<span class="string">'.bx-caption'</span>, <span class="keyword">this</span>).remove();
			<span class="keyword">if</span>(slider.controls.autoEl) slider.controls.autoEl.remove();
			clearInterval(slider.interval);
			$(window).unbind(<span class="string">'resize'</span>, resizeWindow);
		}

		<span class="comment">/**
		 * Reload the slider (revert all DOM changes, and re-initialize)
		 */</span>
		el.reloadSlider = <span class="keyword">function</span>(settings){
			<span class="keyword">if</span> (settings != <span class="literal">undefined</span>) options = settings;
			el.destroySlider();
			init();
		}
		
		init();</pre></div></div>
            
        </li>
        
        
        <li id="section-247">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-247">&#182;</a>
              </div>
              <p>returns the current jQuery object</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="keyword">return</span> <span class="keyword">this</span>;
	}

})(jQuery);</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
